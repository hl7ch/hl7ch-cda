<!--
********************************************************

Schematron rules for HL7 CDA-CH, V1.2 documents containing vital signs

History:
13.03.2011: Tony Schaller, medshare GmbH (ausgelagert aus cda-ch_medication-doc.ent)
06.04.2011: Tony Schaller, medshare GmbH (Erweiterungen für ALIS-Connect Casestat und Publikation in SVN Repository der HL7 Benutzergruppe Schweiz)
01.10.2011: Tony Schaller, medshare GmbH (erste Übersetzungen englisch/italienisch, aber noch nicht vollständig)

********************************************************
-->
<pattern name="CDA CH medication document template">
	<!-- Entity Information -->
	<xhtml:ul id="cda-ch_vitalsigns" xmlns:xhtml="http://www.w3.org/1999/xhtml">
		<xhtml:li class="filename">cda-ch_vitalsigns.ent</xhtml:li>
		<xhtml:li class="version">1.2</xhtml:li>
	</xhtml:ul>
	<!--
	********************************************************
	Header Templates
	********************************************************
	-->
	<rule context="cda:patientRole/cda:patient">
		<!-- Rule Documentation -->
		<xhtml:h3 lang="de_ch" xmlns:xhtml="http://www.w3.org/1999/xhtml">CDA-CH Vitalzeichen Header Templates</xhtml:h3>
		<xhtml:p lang="de_ch" xmlns:xhtml="http://www.w3.org/1999/xhtml">Die nachfolgenden Regeln beschreiben die Prüfungen zu den CDA-CH Vitalzeichen Templates</xhtml:p>
		<xhtml:h3 lang="fr_ch" xmlns:xhtml="http://www.w3.org/1999/xhtml">CDA-CH Signes vitaux Header Templates</xhtml:h3>
		<xhtml:p lang="fr_ch" xmlns:xhtml="http://www.w3.org/1999/xhtml">Les règles suivantes décrivent les contrôles effectués sur les CDA-CH Signes vitaux Header Templates</xhtml:p>
		<!--
		<xhtml:h3 lang='it_ch'>totranslate: italiano</xhtml:h3>
		<xhtml:p lang='it_ch'>totranslate: italiano</xhtml:p>
<xhtml:p lang='en'>totranslate: english</xhtml:p>
		-->
		<assert id="cda-ch_vitalsigns-0101" test="count(cda:administrativeGenderCode)&gt;0">
			<xhtml:p lang="de_ch" xmlns:xhtml="http://www.w3.org/1999/xhtml">Beim Patient fehlt die Angabe des Geschlechts</xhtml:p>
			<xhtml:p lang="fr_ch" xmlns:xhtml="http://www.w3.org/1999/xhtml">L'indication du sexe manque pour le patient</xhtml:p>
			<!--
			<xhtml:p lang='it_ch'>totranslate: italiano</xhtml:p>
<xhtml:p lang='en'>totranslate: english</xhtml:p>
			-->
		</assert>
		<assert id="cda-ch_vitalsigns-0102" test="/cda:ClinicalDocument/cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode/@codeSystem=&quot;2.16.840.1.113883.5.1&quot;">
			<xhtml:p lang="de_ch" xmlns:xhtml="http://www.w3.org/1999/xhtml">Ungültiges Codesystem bei der Angabe des Geschlechts des Patienten</xhtml:p>
			<xhtml:p lang="fr_ch" xmlns:xhtml="http://www.w3.org/1999/xhtml">Codesystem non valable pour l'indication du sexe du patient</xhtml:p>
			<!--
			<xhtml:p lang='it_ch'>totranslate: italiano</xhtml:p>
<xhtml:p lang='en'>totranslate: english</xhtml:p>
			-->
		</assert>
		<assert id="cda-ch_vitalsigns-0103" test="/cda:ClinicalDocument/cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode/@code=document(&quot;../../../../schematrons/HL7.ch/CDA-CH/v1.2/cda-ch-voc.xml&quot;)/systems/system[@codeSystemName=&quot;AdministrativeGender&quot;]/code/@value">
			<xhtml:p lang="de_ch" xmlns:xhtml="http://www.w3.org/1999/xhtml">Ungültige Angabe beim Geschlecht des Patienten</xhtml:p>
			<xhtml:p lang="fr_ch" xmlns:xhtml="http://www.w3.org/1999/xhtml">Indication non valable pour le sexe du patient</xhtml:p>
			<!--
			<xhtml:p lang='it_ch'>totranslate: italiano</xhtml:p>
<xhtml:p lang='en'>totranslate: english</xhtml:p>
			-->
		</assert>
		<assert id="cda-ch_vitalsigns-0104" test="count(cda:birthTime)&gt;0">
			<xhtml:p lang="de_ch" xmlns:xhtml="http://www.w3.org/1999/xhtml">Beim Patient fehlt die Angabe des Geburtsdatums</xhtml:p>
			<xhtml:p lang="fr_ch" xmlns:xhtml="http://www.w3.org/1999/xhtml">L'indication de la date de naissance manque pour le patient</xhtml:p>
			<!--
			<xhtml:p lang='it_ch'>totranslate: italiano</xhtml:p>
<xhtml:p lang='en'>totranslate: english</xhtml:p>
			-->
		</assert>
	</rule>
</pattern>
