<!--
********************************************************

Schematron Entity for Surgeries
Language: en

History:
28.12.2009: Pascal BÃ¼rki, medshare GmbH (Copied from IHE Wiki)
31.12.2009: Tony Schaller, medshare GmbH (Abgabe an Auftraggeber)

******************************************************** -->

<!--  IHE PCC v3.0 Label: 1.3.6.1.4.1.19376.1.5.3.1.4.4.1 -->

<!-- errors -->

<pattern id="p-1.3.6.1.4.1.19376.1.5.3.1.4.4.1-errors">
	<title>IHE PCC v3.0 Label - errors validation phase</title>
	<rule context="*[cda:templateId/@root=&quot;1.3.6.1.4.1.19376.1.5.3.1.4.4.1&quot;]">
		<assert role='error' test='../cda:act'>
			For compatibility with the Clinical Statement model the Internal
			Reference shall always use the &lt;act&gt; class
		</assert>
		<assert role='error' test='cda:id[@root and @extension]'>
			The id element shall be present in Internal Reference. The root and extension attributes
			shall identify an element defined elsewhere in the same document.
		</assert>
		<assert role='error' test='cda:code'>
			The code element of Internal Reference shall be present.
		</assert>
	</rule>
</pattern>

<!-- warning -->

<pattern id="p-1.3.6.1.4.1.19376.1.5.3.1.4.4.1-warnings">
	<title>IHE PCC v3.0 Label - warning validation phase</title>
	<rule context="*[cda:templateId/@root=&quot;1.3.6.1.4.1.19376.1.5.3.1.4.4.1&quot;]">
		<assert role='warning' test='cda:code[@code or @nullFlavor="NA"]'>
			If the element referenced by an Internal Reference  does not
			have a &lt;code&gt; element, then the nullFlavor attribute should be set to "NA".
		</assert>
	</rule>
</pattern>

<!-- manual -->

<pattern id="p-1.3.6.1.4.1.19376.1.5.3.1.4.4.1-manual">
	<title>IHE PCC v3.0 Label - manual validation phase</title>

	<!--
	<rule context="*[cda:templateId/@root=&quot;1.3.6.1.4.1.19376.1.5.3.1.4.4.1&quot;]">
	<report test="."/>
	</rule>
	-->
</pattern>

