<?xml version="1.0" encoding="UTF-8"?>
<!--
Template derived pattern
===========================================
ID: 2.16.756.5.30.1.1.10.4.48
Name: Pharmaceutical Advice Concern Item Entry Content Module
Description: A Pharmaceutical Advice Concern Item belongs to one Pharmaceutical Advice Item and represents the information to concerns (e.g., problems, allergies, etc.) which the Medication Treatment Plan-, Prescription- or Dispense Item referenced by the underlying Pharmaceutical Advice Item causes.
-->
<pattern xmlns="http://purl.oclc.org/dsdl/schematron" id="template-2.16.756.5.30.1.1.10.4.48-2016-07-12T000000">
    <title>Pharmaceutical Advice Concern Item Entry Content Module</title>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->

<!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]" id="d616440e5413-false-d695639e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="string(@classCode)=('ACT')">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): The value for @classCode SHALL be 'ACT'.</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="string(@moodCode)=('EVN')">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): The value for @moodCode SHALL be 'EVN'.</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:templateId[@root='2.16.840.1.113883.10.20.1.27'])&gt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:templateId[@root='2.16.840.1.113883.10.20.1.27'] is mandatory [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:templateId[@root='2.16.840.1.113883.10.20.1.27'])&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:templateId[@root='2.16.840.1.113883.10.20.1.27'] appears too often [max 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1'])&gt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1'] is mandatory [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1'])&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1'] appears too often [max 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5'])&gt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5'] is mandatory [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5'])&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5'] appears too often [max 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48'])&gt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48'] is mandatory [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48'])&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48'] appears too often [max 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:id)&gt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:id is required [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:id)&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:id appears too often [max 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:code)&gt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:code is required [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:code)&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:code appears too often [max 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:text)&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:text appears too often [max 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:statusCode[@code='active'][not(@nullFlavor)])&gt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:statusCode[@code='active'][not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:statusCode[@code='active'][not(@nullFlavor)])&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:statusCode[@code='active'][not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:effectiveTime[not(@nullFlavor)])&gt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:effectiveTime[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:effectiveTime[not(@nullFlavor)])&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:effectiveTime[not(@nullFlavor)] appears too often [max 1x].</assert>
        <let name="elmcount" value="count(hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']|hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.6'])"/>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="$elmcount&gt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): choice (hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5'] or hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.6']) does not contain enough elements [min 1x]</assert>
        <let name="elmcount" value="count(hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='MTPItem']|hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='PREItem']|hl7:entryRelationship[hl7:supply/hl7:code/@code='DISItem']|hl7:entryRelationship[hl7:substanceAdministration/hl7:templateId/@root='1.3.6.1.4.1.19376.1.9.1.3.7']|hl7:entryRelationship[hl7:supply/hl7:templateId/@root='1.3.6.1.4.1.19376.1.9.1.3.4'])"/>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="$elmcount&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): choice (hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='MTPItem'] or hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='PREItem'] or hl7:entryRelationship[hl7:supply/hl7:code/@code='DISItem'] or hl7:entryRelationship[hl7:substanceAdministration/hl7:templateId/@root='1.3.6.1.4.1.19376.1.9.1.3.7'] or hl7:entryRelationship[hl7:supply/hl7:templateId/@root='1.3.6.1.4.1.19376.1.9.1.3.4']) contains too many elements [max 1x]</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:entryRelationship[hl7:supply/hl7:templateId/@root='1.3.6.1.4.1.19376.1.9.1.3.4'])&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:entryRelationship[hl7:supply/hl7:templateId/@root='1.3.6.1.4.1.19376.1.9.1.3.4'] appears too often [max 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.1'])&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.1'] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']" id="d616440e5416-false-d695841e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II", found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <extends rule="II"/>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="string(@root)=('2.16.840.1.113883.10.20.1.27')">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): The value for @root SHALL be '2.16.840.1.113883.10.20.1.27'.</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']" id="d616440e5419-false-d695858e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II", found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <extends rule="II"/>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="string(@root)=('1.3.6.1.4.1.19376.1.5.3.1.4.5.1')">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): The value for @root SHALL be '1.3.6.1.4.1.19376.1.5.3.1.4.5.1'.</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']" id="d616440e5422-false-d695875e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II", found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <extends rule="II"/>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="string(@root)=('1.3.6.1.4.1.19376.1.9.1.3.5')">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): The value for @root SHALL be '1.3.6.1.4.1.19376.1.9.1.3.5'.</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']" id="d616440e5425-false-d695892e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II", found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <extends rule="II"/>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="string(@root)=('2.16.756.5.30.1.1.10.4.48')">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): The value for @root SHALL be '2.16.756.5.30.1.1.10.4.48'.</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:id
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:id" id="d616440e5428-false-d695909e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II", found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <extends rule="II"/>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:code
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:code" id="d616440e5430-false-d695922e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD", found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <extends rule="CD"/>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="string(@nullFlavor)=('NA')">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): The value for @nullFlavor SHALL be 'NA'.</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:text
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:text" id="d616440e5433-false-d695939e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:reference[not(@nullFlavor)])&gt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:reference[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:reference[not(@nullFlavor)])&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:reference[not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:text/hl7:reference[not(@nullFlavor)]
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->

<!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:statusCode[@code='active'][not(@nullFlavor)]
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:statusCode[@code='active'][not(@nullFlavor)]" id="d616440e5436-false-d695971e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS", found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <extends rule="CS"/>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="@nullFlavor or (@code='active')">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): The element value SHALL be one of 'code 'active''.</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:effectiveTime[not(@nullFlavor)]
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->

<!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']" id="d616440e5444-false-d695997e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="string(@typeCode)=('SUBJ')">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): The value for @typeCode SHALL be 'SUBJ'.</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]" id="d616440e5446-false-d696018e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5'])&gt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5'] is mandatory [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5'])&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5'] appears too often [max 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:code[@code=doc('include/voc-2.16.756.5.30.1.127.77.4.11.4-DYNAMIC.xml')//valueSet[1]/conceptList/*/@code][not(@nullFlavor)])&gt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:code[@code=doc('include/voc-2.16.756.5.30.1.127.77.4.11.4-DYNAMIC.xml')//valueSet[1]/conceptList/*/@code][not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:code[@code=doc('include/voc-2.16.756.5.30.1.127.77.4.11.4-DYNAMIC.xml')//valueSet[1]/conceptList/*/@code][not(@nullFlavor)])&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:code[@code=doc('include/voc-2.16.756.5.30.1.127.77.4.11.4-DYNAMIC.xml')//valueSet[1]/conceptList/*/@code][not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:text)&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:text appears too often [max 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:statusCode[@code='active'][not(@nullFlavor)])&gt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:statusCode[@code='active'][not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:statusCode[@code='active'][not(@nullFlavor)])&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:statusCode[@code='active'][not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:effectiveTime[not(@nullFlavor)])&gt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:effectiveTime[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:effectiveTime[not(@nullFlavor)])&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:effectiveTime[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:value[not(@nullFlavor)])&gt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:value[not(@nullFlavor)] is mandatory [min 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]/hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]/hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']" id="d616440e5447-false-d696096e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II", found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <extends rule="II"/>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="string(@root)=('1.3.6.1.4.1.19376.1.5.3.1.4.5')">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): The value for @root SHALL be '1.3.6.1.4.1.19376.1.5.3.1.4.5'.</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]/hl7:code[@code=doc('include/voc-2.16.756.5.30.1.127.77.4.11.4-DYNAMIC.xml')//valueSet[1]/conceptList/*/@code][not(@nullFlavor)]
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]/hl7:code[@code=doc('include/voc-2.16.756.5.30.1.127.77.4.11.4-DYNAMIC.xml')//valueSet[1]/conceptList/*/@code][not(@nullFlavor)]" id="d616440e5449-false-d696115e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS", found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <extends rule="CS"/>
        <let name="theCode" value="@code"/>
        <let name="theCodeSystem" value="@codeSystem"/>
        <let name="theCodeSystemVersion" value="@codeSystemVersion"/>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="@nullFlavor or exists(doc('include/voc-2.16.756.5.30.1.127.77.4.11.4-DYNAMIC.xml')//valueSet[1]/conceptList/concept[@code = $theCode] or completeCodeSystem)">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): The element value SHALL be one of '2.16.756.5.30.1.127.77.4.11.4 ProblemType (DYNAMIC)'.</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]/hl7:text
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]/hl7:text" id="d616440e5451-false-d696139e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:reference[not(@nullFlavor)])&gt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:reference[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:reference[not(@nullFlavor)])&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:reference[not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]/hl7:text/hl7:reference[not(@nullFlavor)]
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->

<!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]/hl7:statusCode[@code='active'][not(@nullFlavor)]
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]/hl7:statusCode[@code='active'][not(@nullFlavor)]" id="d616440e5453-false-d696171e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS", found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <extends rule="CS"/>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="@nullFlavor or (@code='active')">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): The element value SHALL be one of 'code 'active''.</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]/hl7:effectiveTime[not(@nullFlavor)]
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]/hl7:effectiveTime[not(@nullFlavor)]" id="d616440e5455-false-d696190e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:low[not(@nullFlavor)])&gt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:low[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:low[not(@nullFlavor)])&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:low[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:high[not(@nullFlavor)])&gt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:high[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:high[not(@nullFlavor)])&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:high[not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]/hl7:effectiveTime[not(@nullFlavor)]/hl7:low[not(@nullFlavor)]
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]/hl7:effectiveTime[not(@nullFlavor)]/hl7:low[not(@nullFlavor)]" id="d616440e5456-false-d696224e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TS", found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <extends rule="TS"/>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="not(*)">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): <value-of select="local-name()"/> with datatype TS, SHOULD NOT have child elements.</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]/hl7:effectiveTime[not(@nullFlavor)]/hl7:high[not(@nullFlavor)]
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]/hl7:effectiveTime[not(@nullFlavor)]/hl7:high[not(@nullFlavor)]" id="d616440e5457-false-d696240e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='TS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:TS", found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <extends rule="TS"/>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="not(*)">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): <value-of select="local-name()"/> with datatype TS, SHOULD NOT have child elements.</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]/hl7:value[not(@nullFlavor)]
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]/hl7:value[not(@nullFlavor)]" id="d616440e5458-false-d696256e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD", found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <extends rule="CD"/>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:interpretationCode)&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:interpretationCode appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]/hl7:value[not(@nullFlavor)]/hl7:originalText
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]/hl7:value[not(@nullFlavor)]/hl7:originalText" id="d616440e5459-false-d696284e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:reference)&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:reference appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]/hl7:value[not(@nullFlavor)]/hl7:originalText/hl7:reference
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->

<!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]/hl7:value[not(@nullFlavor)]/hl7:interpretationCode
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5']]/hl7:value[not(@nullFlavor)]/hl7:interpretationCode" id="d616440e5461-false-d696313e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CS' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CS", found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <extends rule="CS"/>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.6']
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.6']" id="d616440e5462-false-d696323e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="string(@typeCode)=('SUBJ')">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): The value for @typeCode SHALL be 'SUBJ'.</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.6']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.6']]
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.6']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.6']]" id="d616440e5464-false-d696344e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.6'])&gt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.6'] is mandatory [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.6'])&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.6'] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.6']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.6']]/hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.6']
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.6']/hl7:observation[hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.6']]/hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.6']" id="d616440e5465-false-d696366e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II", found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <extends rule="II"/>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="string(@root)=('1.3.6.1.4.1.19376.1.5.3.1.4.6')">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): The value for @root SHALL be '1.3.6.1.4.1.19376.1.5.3.1.4.6'.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.3.6.1.4.1.12559.11.22.1.50
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='MTPItem']
Item: (MedicationTreatmentPlanItem)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='MTPItem']" id="d696367e15-false-d696381e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.50" test="string(@typeCode)=('REFR')">(MedicationTreatmentPlanItem): The value for @typeCode SHALL be 'REFR'.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.3.6.1.4.1.12559.11.22.1.50
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='MTPItem']/hl7:substanceAdministration[hl7:code[(@code='MTPItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]
Item: (MedicationTreatmentPlanItem)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='MTPItem']/hl7:substanceAdministration[hl7:code[(@code='MTPItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]" id="d696367e17-false-d696400e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.50" test="string(@classCode)=('SBADM')">(MedicationTreatmentPlanItem): The value for @classCode SHALL be 'SBADM'.</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.50" test="string(@moodCode)=('INT')">(MedicationTreatmentPlanItem): The value for @moodCode SHALL be 'INT'.</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.50" test="count(hl7:id[not(@nullFlavor)])&gt;=1">(MedicationTreatmentPlanItem): element hl7:id[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.50" test="count(hl7:id[not(@nullFlavor)])&lt;=1">(MedicationTreatmentPlanItem): element hl7:id[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.50" test="count(hl7:code[(@code='MTPItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)])&gt;=1">(MedicationTreatmentPlanItem): element hl7:code[(@code='MTPItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.50" test="count(hl7:code[(@code='MTPItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)])&lt;=1">(MedicationTreatmentPlanItem): element hl7:code[(@code='MTPItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.50" test="count(hl7:consumable)&gt;=1">(MedicationTreatmentPlanItem): element hl7:consumable is required [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.50" test="count(hl7:consumable)&lt;=1">(MedicationTreatmentPlanItem): element hl7:consumable appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.3.6.1.4.1.12559.11.22.1.50
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='MTPItem']/hl7:substanceAdministration[hl7:code[(@code='MTPItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]/hl7:id[not(@nullFlavor)]
Item: (MedicationTreatmentPlanItem)
-->

<!--
Template derived rules for ID: 1.3.6.1.4.1.12559.11.22.1.50
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='MTPItem']/hl7:substanceAdministration[hl7:code[(@code='MTPItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]/hl7:code[(@code='MTPItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]
Item: (MedicationTreatmentPlanItem)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='MTPItem']/hl7:substanceAdministration[hl7:code[(@code='MTPItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]/hl7:code[(@code='MTPItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]" id="d696367e21-false-d696463e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.50" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(MedicationTreatmentPlanItem): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD", found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <extends rule="CD"/>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.50" test="@nullFlavor or (@code='MTPItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')">(MedicationTreatmentPlanItem): The element value SHALL be one of 'code 'MTPItem' codeSystem '1.3.6.1.4.1.19376.1.9.2.2''.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.3.6.1.4.1.12559.11.22.1.50
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='MTPItem']/hl7:substanceAdministration[hl7:code[(@code='MTPItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]/hl7:consumable
Item: (MedicationTreatmentPlanItem)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='MTPItem']/hl7:substanceAdministration[hl7:code[(@code='MTPItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]/hl7:consumable" id="d696367e23-false-d696482e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.50" test="count(hl7:manufacturedProduct)&gt;=1">(MedicationTreatmentPlanItem): element hl7:manufacturedProduct is required [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.50" test="count(hl7:manufacturedProduct)&lt;=1">(MedicationTreatmentPlanItem): element hl7:manufacturedProduct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.3.6.1.4.1.12559.11.22.1.50
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='MTPItem']/hl7:substanceAdministration[hl7:code[(@code='MTPItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]/hl7:consumable/hl7:manufacturedProduct
Item: (MedicationTreatmentPlanItem)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='MTPItem']/hl7:substanceAdministration[hl7:code[(@code='MTPItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]/hl7:consumable/hl7:manufacturedProduct" id="d696367e24-false-d696504e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.50" test="count(hl7:manufacturedMaterial)&gt;=1">(MedicationTreatmentPlanItem): element hl7:manufacturedMaterial is required [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.50" test="count(hl7:manufacturedMaterial)&lt;=1">(MedicationTreatmentPlanItem): element hl7:manufacturedMaterial appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.3.6.1.4.1.12559.11.22.1.50
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='MTPItem']/hl7:substanceAdministration[hl7:code[(@code='MTPItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]/hl7:consumable/hl7:manufacturedProduct/hl7:manufacturedMaterial
Item: (MedicationTreatmentPlanItem)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='MTPItem']/hl7:substanceAdministration[hl7:code[(@code='MTPItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]/hl7:consumable/hl7:manufacturedProduct/hl7:manufacturedMaterial" id="d696367e25-false-d696526e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.50" test="string(@nullFlavor)=('NA')">(MedicationTreatmentPlanItem): The value for @nullFlavor SHALL be 'NA'.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.3.6.1.4.1.12559.11.22.1.51
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='PREItem']
Item: (PrescriptionItem)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='PREItem']" id="d696531e8-false-d696537e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.51" test="string(@typeCode)=('REFR')">(PrescriptionItem): The value for @typeCode SHALL be 'REFR'.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.3.6.1.4.1.12559.11.22.1.51
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='PREItem']/hl7:substanceAdministration[hl7:code[(@code='PREItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]
Item: (PrescriptionItem)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='PREItem']/hl7:substanceAdministration[hl7:code[(@code='PREItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]" id="d696531e10-false-d696556e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.51" test="string(@classCode)=('SBADM')">(PrescriptionItem): The value for @classCode SHALL be 'SBADM'.</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.51" test="string(@moodCode)=('INT')">(PrescriptionItem): The value for @moodCode SHALL be 'INT'.</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.51" test="count(hl7:id[not(@nullFlavor)])&gt;=1">(PrescriptionItem): element hl7:id[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.51" test="count(hl7:id[not(@nullFlavor)])&lt;=1">(PrescriptionItem): element hl7:id[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.51" test="count(hl7:code[(@code='PREItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)])&gt;=1">(PrescriptionItem): element hl7:code[(@code='PREItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.51" test="count(hl7:code[(@code='PREItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)])&lt;=1">(PrescriptionItem): element hl7:code[(@code='PREItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.51" test="count(hl7:consumable)&gt;=1">(PrescriptionItem): element hl7:consumable is required [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.51" test="count(hl7:consumable)&lt;=1">(PrescriptionItem): element hl7:consumable appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.3.6.1.4.1.12559.11.22.1.51
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='PREItem']/hl7:substanceAdministration[hl7:code[(@code='PREItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]/hl7:id[not(@nullFlavor)]
Item: (PrescriptionItem)
-->

<!--
Template derived rules for ID: 1.3.6.1.4.1.12559.11.22.1.51
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='PREItem']/hl7:substanceAdministration[hl7:code[(@code='PREItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]/hl7:code[(@code='PREItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]
Item: (PrescriptionItem)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='PREItem']/hl7:substanceAdministration[hl7:code[(@code='PREItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]/hl7:code[(@code='PREItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]" id="d696531e14-false-d696619e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.51" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(PrescriptionItem): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD", found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <extends rule="CD"/>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.51" test="@nullFlavor or (@code='PREItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')">(PrescriptionItem): The element value SHALL be one of 'code 'PREItem' codeSystem '1.3.6.1.4.1.19376.1.9.2.2''.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.3.6.1.4.1.12559.11.22.1.51
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='PREItem']/hl7:substanceAdministration[hl7:code[(@code='PREItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]/hl7:consumable
Item: (PrescriptionItem)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='PREItem']/hl7:substanceAdministration[hl7:code[(@code='PREItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]/hl7:consumable" id="d696531e16-false-d696638e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.51" test="count(hl7:manufacturedProduct)&gt;=1">(PrescriptionItem): element hl7:manufacturedProduct is required [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.51" test="count(hl7:manufacturedProduct)&lt;=1">(PrescriptionItem): element hl7:manufacturedProduct appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.3.6.1.4.1.12559.11.22.1.51
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='PREItem']/hl7:substanceAdministration[hl7:code[(@code='PREItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]/hl7:consumable/hl7:manufacturedProduct
Item: (PrescriptionItem)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='PREItem']/hl7:substanceAdministration[hl7:code[(@code='PREItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]/hl7:consumable/hl7:manufacturedProduct" id="d696531e17-false-d696660e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.51" test="count(hl7:manufacturedMaterial)&gt;=1">(PrescriptionItem): element hl7:manufacturedMaterial is required [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.51" test="count(hl7:manufacturedMaterial)&lt;=1">(PrescriptionItem): element hl7:manufacturedMaterial appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.3.6.1.4.1.12559.11.22.1.51
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='PREItem']/hl7:substanceAdministration[hl7:code[(@code='PREItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]/hl7:consumable/hl7:manufacturedProduct/hl7:manufacturedMaterial
Item: (PrescriptionItem)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:code/@code='PREItem']/hl7:substanceAdministration[hl7:code[(@code='PREItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]/hl7:consumable/hl7:manufacturedProduct/hl7:manufacturedMaterial" id="d696531e18-false-d696682e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.51" test="string(@nullFlavor)=('NA')">(PrescriptionItem): The value for @nullFlavor SHALL be 'NA'.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.3.6.1.4.1.12559.11.22.1.52
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:supply/hl7:code/@code='DISItem']
Item: (DispenseItem)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:supply/hl7:code/@code='DISItem']" id="d696687e8-false-d696693e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.52" test="string(@typeCode)=('REFR')">(DispenseItem): The value for @typeCode SHALL be 'REFR'.</assert>
    </rule>
   <!--
Template derived rules for ID: 1.3.6.1.4.1.12559.11.22.1.52
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:supply/hl7:code/@code='DISItem']/hl7:supply[hl7:code[(@code='DISItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]
Item: (DispenseItem)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:supply/hl7:code/@code='DISItem']/hl7:supply[hl7:code[(@code='DISItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]" id="d696687e10-false-d696712e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.52" test="string(@classCode)=('SPLY')">(DispenseItem): The value for @classCode SHALL be 'SPLY'.</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.52" test="string(@moodCode)=('EVN')">(DispenseItem): The value for @moodCode SHALL be 'EVN'.</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.52" test="count(hl7:id[not(@nullFlavor)])&gt;=1">(DispenseItem): element hl7:id[not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.52" test="count(hl7:id[not(@nullFlavor)])&lt;=1">(DispenseItem): element hl7:id[not(@nullFlavor)] appears too often [max 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.52" test="count(hl7:code[(@code='DISItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)])&gt;=1">(DispenseItem): element hl7:code[(@code='DISItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)] is mandatory [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.52" test="count(hl7:code[(@code='DISItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)])&lt;=1">(DispenseItem): element hl7:code[(@code='DISItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 1.3.6.1.4.1.12559.11.22.1.52
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:supply/hl7:code/@code='DISItem']/hl7:supply[hl7:code[(@code='DISItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]/hl7:id[not(@nullFlavor)]
Item: (DispenseItem)
-->

<!--
Template derived rules for ID: 1.3.6.1.4.1.12559.11.22.1.52
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:supply/hl7:code/@code='DISItem']/hl7:supply[hl7:code[(@code='DISItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]/hl7:code[(@code='DISItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]
Item: (DispenseItem)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:supply/hl7:code/@code='DISItem']/hl7:supply[hl7:code[(@code='DISItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]]/hl7:code[(@code='DISItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')][not(@nullFlavor)]" id="d696687e14-false-d696763e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.52" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='CD' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(DispenseItem): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:CD", found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <extends rule="CD"/>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=1.3.6.1.4.1.12559.11.22.1.52" test="@nullFlavor or (@code='DISItem' and @codeSystem='1.3.6.1.4.1.19376.1.9.2.2')">(DispenseItem): The element value SHALL be one of 'code 'DISItem' codeSystem '1.3.6.1.4.1.19376.1.9.2.2''.</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:templateId/@root='1.3.6.1.4.1.19376.1.9.1.3.7']
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:templateId/@root='1.3.6.1.4.1.19376.1.9.1.3.7']" id="d616440e5472-false-d696779e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="string(@typeCode)=('REFR')">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): The value for @typeCode SHALL be 'REFR'.</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="string(@inversionInd)=('false') or not(@inversionInd)">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): The value for @inversionInd SHALL be 'false'.</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:templateId/@root='1.3.6.1.4.1.19376.1.9.1.3.7']/hl7:substanceAdministration[hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.7']]
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:templateId/@root='1.3.6.1.4.1.19376.1.9.1.3.7']/hl7:substanceAdministration[hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.7']]" id="d616440e5475-false-d696804e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="string(@classCode)=('SBADM')">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): The value for @classCode SHALL be 'SBADM'.</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="string(@moodCode)=('INT')">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): The value for @moodCode SHALL be 'INT'.</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.7'])&gt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.7'] is mandatory [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.7'])&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.7'] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:templateId/@root='1.3.6.1.4.1.19376.1.9.1.3.7']/hl7:substanceAdministration[hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.7']]/hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.7']
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:substanceAdministration/hl7:templateId/@root='1.3.6.1.4.1.19376.1.9.1.3.7']/hl7:substanceAdministration[hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.7']]/hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.7']" id="d616440e5478-false-d696833e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II", found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <extends rule="II"/>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="string(@root)=('1.3.6.1.4.1.19376.1.9.1.3.7')">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): The value for @root SHALL be '1.3.6.1.4.1.19376.1.9.1.3.7'.</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:supply/hl7:templateId/@root='1.3.6.1.4.1.19376.1.9.1.3.4']
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:supply/hl7:templateId/@root='1.3.6.1.4.1.19376.1.9.1.3.4']" id="d616440e5480-false-d696847e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="string(@typeCode)=('REFR')">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): The value for @typeCode SHALL be 'REFR'.</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:supply/hl7:templateId/@root='1.3.6.1.4.1.19376.1.9.1.3.4']/hl7:supply[hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.4']]
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:supply/hl7:templateId/@root='1.3.6.1.4.1.19376.1.9.1.3.4']/hl7:supply[hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.4']]" id="d616440e5482-false-d696868e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.4'])&gt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.4'] is mandatory [min 1x].</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="count(hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.4'])&lt;=1">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): element hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.4'] appears too often [max 1x].</assert>
    </rule>
   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:supply/hl7:templateId/@root='1.3.6.1.4.1.19376.1.9.1.3.4']/hl7:supply[hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.4']]/hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.4']
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:supply/hl7:templateId/@root='1.3.6.1.4.1.19376.1.9.1.3.4']/hl7:supply[hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.4']]/hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.4']" id="d616440e5483-false-d696890e0">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="(local-name-from-QName(resolve-QName(@xsi:type,.))='II' and namespace-uri-from-QName(resolve-QName(@xsi:type,.))='urn:hl7-org:v3') or not(@xsi:type)">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): If an @xsi:type instruction is present it SHALL be valued "{urn:hl7-org:v3}:II", found "{<value-of select="namespace-uri-from-QName(resolve-QName(@xsi:type,.))"/>}:<value-of select="local-name-from-QName(resolve-QName(@xsi:type,.))"/>"</assert>
        <extends rule="II"/>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="string(@root)=('1.3.6.1.4.1.19376.1.9.1.3.4')">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): The value for @root SHALL be '1.3.6.1.4.1.19376.1.9.1.3.4'.</assert>
    </rule>

   <!--
Template derived rules for ID: 2.16.756.5.30.1.1.10.4.48
Context: *[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.1']
Item: (CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule)
-->
    <rule context="*[hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]]/hl7:act[hl7:templateId[@root='2.16.840.1.113883.10.20.1.27']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.4.5.1']][hl7:templateId[@root='1.3.6.1.4.1.19376.1.9.1.3.5']][hl7:templateId[@root='2.16.756.5.30.1.1.10.4.48']]/hl7:entryRelationship[hl7:observation/hl7:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.4.1']">
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="string(@typeCode)=('SUBJ')">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): The value for @typeCode SHALL be 'SUBJ'.</assert>
        <assert role="error" see="http://art-decor.org/art-decor/decor-templates--ch-pharm-?id=2.16.756.5.30.1.1.10.4.48" test="string(@inversionInd)=('true')">(CH-EMED-PharmaceuticalAdviceConcernItemEntryContentModule): The value for @inversionInd SHALL be 'true'.</assert>
    </rule>
</pattern>